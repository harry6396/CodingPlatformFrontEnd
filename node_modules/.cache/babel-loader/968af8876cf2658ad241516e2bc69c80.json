{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\prabhaty\\\\Desktop\\\\CodingPlatformFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\prabhaty\\\\Desktop\\\\CodingPlatformFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\prabhaty\\\\Desktop\\\\CodingPlatformFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\prabhaty\\\\Desktop\\\\CodingPlatformFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\prabhaty\\\\Desktop\\\\CodingPlatformFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\prabhaty\\\\Desktop\\\\CodingPlatformFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import'./Register.css';import cookie from'react-cookies';import Puzzle from'./Puzzle.js';import Code from'./Code.js';var Question=/*#__PURE__*/function(_React$Component){_inherits(Question,_React$Component);function Question(props){var _this;_classCallCheck(this,Question);_this=_possibleConstructorReturn(this,_getPrototypeOf(Question).call(this,props));_this.state={code:'',isPuzzleCode:true,questionType:'',questionNumber:'',time:{}};_this.timer=0;_this.startTimer=_this.startTimer.bind(_assertThisInitialized(_this));_this.countDown=_this.countDown.bind(_assertThisInitialized(_this));_this.onEndTest=_this.onEndTest.bind(_assertThisInitialized(_this));_this.checkProgress=_this.checkProgress.bind(_assertThisInitialized(_this));_this.openTimer=_this.openTimer.bind(_assertThisInitialized(_this));_this.stopTimer=_this.stopTimer.bind(_assertThisInitialized(_this));return _this;}_createClass(Question,[{key:\"secondsToTime\",value:function secondsToTime(secs){var hours=Math.floor(secs/(60*60));var divisor_for_minutes=secs%(60*60);var minutes=Math.floor(divisor_for_minutes/60);var divisor_for_seconds=divisor_for_minutes%60;var seconds=Math.ceil(divisor_for_seconds);var obj={\"h\":hours,\"m\":minutes,\"s\":seconds};return obj;}},{key:\"componentDidMount\",value:function componentDidMount(){this.checkProgress();this.openTimer();}},{key:\"openTimer\",value:function openTimer(){var timeLeftVar=this.secondsToTime(parseInt(cookie.load('challengeTime')));this.setState({time:timeLeftVar});this.startTimer();}},{key:\"startTimer\",value:function startTimer(){if(this.timer==0&&parseInt(cookie.load('challengeTime'))>0){this.timer=setInterval(this.countDown,1000);}}},{key:\"stopTimer\",value:function stopTimer(){this.setState({timer:undefined});}},{key:\"countDown\",value:function countDown(){// Remove one second, set state so a re-render happens.\nvar seconds=parseInt(cookie.load('challengeTime'))-1;this.setState({time:this.secondsToTime(seconds)});cookie.save('challengeTime',seconds.toString(),{path:'/'});// Check if we're at zero.\nif(seconds==0){clearInterval(this.timer);this.onEndTest();}}},{key:\"checkProgress\",value:function checkProgress(){var _this2=this;var teamName=cookie.load('teamName');if(teamName!==null&&teamName!==undefined&&teamName!==\"\"){fetch(\"https://codingplatformbackend.herokuapp.com/codingPlatform/fetchProgress?key=SHARED_KEY\",{headers:{'Accept':'application/json','Content-Type':'application/json'},method:\"POST\",body:JSON.stringify({\"teamName\":teamName})}).then(function(res){return res.json();}).then(function(result){if(result.status===\"Success\"){if(result.questionNumber===\"6\"){_this2.onEndTest();}else{_this2.setState({questionType:result.questionType,questionNumber:result.questionNumber});}}else if(result.status===\"Fail\"){alert(\"Something went wrong\");}});}else{this.props.history.push('/login');}}},{key:\"onEndTest\",value:function onEndTest(){var _this3=this;var teamName=cookie.load('teamName');fetch(\"https://codingplatformbackend.herokuapp.com/codingPlatform/finalSubmission?key=SHARED_KEY\",{headers:{'Accept':'application/json','Content-Type':'application/json'},method:\"POST\",body:JSON.stringify({\"teamName\":teamName,\"completionTime\":cookie.load('challengeTime')})}).then(function(res){return res.json();}).then(function(result){if(result.status===\"Success\"){_this3.props.history.lengt=-1;cookie.remove('teamName');_this3.props.history.push('/CompleteTestPage');}else if(result.status===\"Fail\"){alert(\"Something went wrong\");}});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"\"},React.createElement(\"div\",{className:\"challengeHeader\"},React.createElement(\"div\",{className:\"challengeHeaderMessage\"},\"Break the ENGIMA\"),React.createElement(\"div\",{className:\"challengeTimer\"},this.state.time.h,\" : \",this.state.time.m,\" : \",this.state.time.s),React.createElement(\"div\",{className:\"endTestButton\",onClick:this.onEndTest},\"End Test\")),React.createElement(\"div\",{className:\"challengeBody\"},this.state.questionType===\"P\"?React.createElement(Puzzle,{timer:this.state.seconds,toggleQuestion:this.checkProgress}):this.state.questionType===\"C\"?React.createElement(Code,{timer:this.state.seconds,toggleQuestion:this.checkProgress}):React.createElement(\"div\",null)));}}]);return Question;}(React.Component);export default Question;","map":{"version":3,"sources":["C:/Users/prabhaty/Desktop/CodingPlatformFrontEnd/src/Question.js"],"names":["React","cookie","Puzzle","Code","Question","props","state","code","isPuzzleCode","questionType","questionNumber","time","timer","startTimer","bind","countDown","onEndTest","checkProgress","openTimer","stopTimer","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","seconds","ceil","obj","timeLeftVar","secondsToTime","parseInt","load","setState","setInterval","undefined","save","toString","path","clearInterval","teamName","fetch","headers","method","body","JSON","stringify","then","res","json","result","status","alert","history","push","lengt","remove","h","m","s","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Register.css';\r\nimport cookie from 'react-cookies';\r\nimport Puzzle from './Puzzle.js';\r\nimport Code from './Code.js';\r\n\r\nclass Question extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        code:'',\r\n        isPuzzleCode:true,\r\n        questionType:'',\r\n        questionNumber:'',\r\n        time: {}\r\n    };\r\n    this.timer = 0;\r\n    this.startTimer = this.startTimer.bind(this);\r\n    this.countDown = this.countDown.bind(this);\r\n    this.onEndTest = this.onEndTest.bind(this);\r\n    this.checkProgress = this.checkProgress.bind(this);\r\n    this.openTimer = this.openTimer.bind(this);\r\n    this.stopTimer = this.stopTimer.bind(this);\r\n}\r\nsecondsToTime(secs){\r\n  let hours = Math.floor(secs / (60 * 60));\r\n\r\n  let divisor_for_minutes = secs % (60 * 60);\r\n  let minutes = Math.floor(divisor_for_minutes / 60);\r\n\r\n  let divisor_for_seconds = divisor_for_minutes % 60;\r\n  let seconds = Math.ceil(divisor_for_seconds);\r\n\r\n  let obj = {\r\n    \"h\": hours,\r\n    \"m\": minutes,\r\n    \"s\": seconds\r\n  };\r\n  return obj;\r\n}\r\n\r\ncomponentDidMount(){\r\n  this.checkProgress();\r\n  this.openTimer();\r\n}\r\n\r\nopenTimer(){\r\n  let timeLeftVar = this.secondsToTime(parseInt(cookie.load('challengeTime')));\r\n  this.setState({ time: timeLeftVar });\r\n  this.startTimer();\r\n}\r\n\r\nstartTimer() {\r\n  if (this.timer == 0 && parseInt(cookie.load('challengeTime')) > 0) {\r\n    this.timer = setInterval(this.countDown, 1000);\r\n  }\r\n}\r\n\r\nstopTimer(){\r\n  this.setState({timer:undefined});\r\n}\r\n\r\ncountDown() {\r\n  // Remove one second, set state so a re-render happens.\r\n  let seconds = parseInt(cookie.load('challengeTime')) - 1;\r\n  this.setState({\r\n    time: this.secondsToTime(seconds)\r\n  });\r\n  cookie.save('challengeTime', seconds.toString(), { path: '/' });\r\n  // Check if we're at zero.\r\n  if (seconds == 0) { \r\n    clearInterval(this.timer);\r\n    this.onEndTest();\r\n  }\r\n}\r\ncheckProgress(){\r\n  var teamName=cookie.load('teamName');\r\n  if(teamName!==null&&teamName!==undefined&&teamName!==\"\"){\r\n  fetch(\"https://codingplatformbackend.herokuapp.com/codingPlatform/fetchProgress?key=SHARED_KEY\",{\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          },\r\n          method: \"POST\",\r\n          body: JSON.stringify({\"teamName\":teamName})\r\n        })\r\n          .then(res => res.json())\r\n          .then(\r\n            (result) => {\r\n              if(result.status === \"Success\"){\r\n                if(result.questionNumber === \"6\"){\r\n                  this.onEndTest();\r\n                }\r\n                else{\r\n                  this.setState({questionType:result.questionType,questionNumber:result.questionNumber});\r\n                }\r\n              }else if(result.status === \"Fail\"){\r\n                  alert(\"Something went wrong\");\r\n              }\r\n            }\r\n    )\r\n  }else{\r\n    this.props.history.push('/login');\r\n  }\r\n}\r\n\r\nonEndTest(){\r\n  var teamName=cookie.load('teamName');\r\n  fetch(\"https://codingplatformbackend.herokuapp.com/codingPlatform/finalSubmission?key=SHARED_KEY\",{\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          },\r\n          method: \"POST\",\r\n          body: JSON.stringify({\"teamName\":teamName,\"completionTime\":cookie.load('challengeTime')})\r\n        })\r\n          .then(res => res.json())\r\n          .then(\r\n            (result) => {\r\n              if(result.status === \"Success\"){\r\n                this.props.history.lengt=-1;\r\n                cookie.remove('teamName');\r\n                this.props.history.push('/CompleteTestPage');\r\n              }else if(result.status === \"Fail\"){\r\n                  alert(\"Something went wrong\");\r\n              }\r\n            }\r\n    )\r\n}\r\n\r\n\r\n\r\nrender() {\r\n  return (\r\n    <div className=\"\">\r\n        <div className=\"challengeHeader\">\r\n            <div className=\"challengeHeaderMessage\">Break the ENGIMA</div>\r\n            <div className=\"challengeTimer\">{this.state.time.h} : {this.state.time.m} : {this.state.time.s}</div>\r\n            <div className=\"endTestButton\" onClick={this.onEndTest}>End Test</div>\r\n        </div>\r\n        <div className=\"challengeBody\">\r\n            {this.state.questionType===\"P\"?\r\n            <Puzzle timer = {this.state.seconds} toggleQuestion={this.checkProgress}/>:this.state.questionType===\"C\"?\r\n            <Code timer = {this.state.seconds} toggleQuestion={this.checkProgress}/>:<div></div>}\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n}\r\nexport default Question;\r\n"]},"metadata":{},"sourceType":"module"}